<%- include('../include/admin-header.ejs') %>

			<!-- main -->
			<main class="main-content-wrapper">
				<div class="container">
					<!-- row -->
					<div class="row mb-8">
						<div class="col-md-12">
							<div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-4">
								<!-- pageheader -->
								<div>
									<h2>Sub Categories</h2>
									<!-- breacrumb -->
									<nav aria-label="breadcrumb">
										<ol class="breadcrumb mb-0">
											<li class="breadcrumb-item"><a href="#" class="text-inherit">Dashboard</a></li>
											<li class="breadcrumb-item active" aria-current="page">Sub Categories</li>
										</ol>
									</nav>
								</div>
								<!-- button -->
								<div>
									<a href="/dashboard/addSubcategory" class="btn btn-primary">Add New Sub Category</a>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xl-12 col-12 mb-5">
							<!-- card -->
							<div class="card h-100 card-lg">
								
								<!-- card body -->
								<div class="card-body p-0">
									<!-- table -->
									<div class="table-responsive">
										<table class="table table-centered table-hover mb-0 text-nowrap table-borderless table-with-checkbox">
											<thead class="bg-light">
												<tr>
													<th>
														<div class="form-check">
															<input class="form-check-input" type="checkbox" value="" id="checkAll" />
															<label class="form-check-label" for="checkAll"></label>
														</div>
													</th>
													<th>Icon</th>
													<th>Name</th>
													<th>Category</th>
													<th>Status</th>
													<th></th>
												</tr>
											</thead>
											<tbody>
												<!-- Iterate over each subcategory -->
												   <!-- Iterate over each category -->
    <% category.forEach(categoryItem => { %>
        <!-- Iterate over each subcategory within the category -->
        <% categoryItem.subcategory.forEach(subcategory => { %>
            <tr>
                <td>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="<%= subcategory._id %>" />
                        <label class="form-check-label" for="<%= subcategory._id %>"></label>
                    </div>
                </td>
                <td>
                    <a href="#!"><img src="../../upload/<%= subcategory.images %>" alt="" class="icon-shape icon-sm" /></a>
                </td>
                <td><a href="#" class="text-reset"><%= subcategory.name %></a></td>
                <td><%= categoryItem.title %></td>
                <td>
                    <span class="badge bg-light-primary text-dark-primary">Enabled</span>
                </td>
                <td>
                    <div class="dropdown">
                        <a href="#" class="text-reset" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="feather-icon icon-more-vertical fs-5"></i>
                        </a>
                        <ul class="dropdown-menu">
							<li>
								<a class="dropdown-item" href="deletesubCategory?categoryId=<%= categoryItem._id %>&subcategoryId=<%= subcategory._id %>" onclick="return window.confirm('Are you sure you want to delete this Sub category?')">
									<i class="bi bi-trash me-3"></i>
									Delete
								</a>
							</li>
                            <li>
                                <a class="dropdown-item" href="editsubCategory?categoryId=<%= categoryItem._id %>&subcategoryId=<%= subcategory._id %>">
                                    <i class="bi bi-pencil-square me-3"></i>
                                    Edit
                                </a>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
        <% }); %>
    <% }); %>
												
											</tbody>
										</table>
										
									</div>
								</div>
								<!-- <div class="border-top d-flex justify-content-between align-items-md-center px-6 py-6 flex-md-row flex-column gap-4">
									<span>Showing 1 to 8 of 12 entries</span>
									<nav>
										<ul class="pagination mb-0">
											<li class="page-item disabled"><a class="page-link" href="#!">Previous</a></li>
											<li class="page-item"><a class="page-link active" href="#!">1</a></li>
											<li class="page-item"><a class="page-link" href="#!">2</a></li>
											<li class="page-item"><a class="page-link" href="#!">3</a></li>
											<li class="page-item"><a class="page-link" href="#!">Next</a></li>
										</ul>
									</nav>
								</div> -->
							</div>
						</div>
					</div>
				</div>
			</main>
		</div>
		<%- include('../include/admin-footer.ejs') %>